<div class="sec sec--hero">
  <div class="cont">
    <div class="cont--small">
      <div class="text--center">
        <div class="angle-container angle-container--form">
          <div class="angle--top">
          </div>
        </div>
        <div class="form-container" data-ix="fade-effect">
          <%= form_for @artifact, :html => { :class => "form" } do |f| %>
            <div class="gap--big">          
              <% if @artifact.errors.any? %>
                <div id="error_expl" class="panel panel-danger">
                  <div class="panel-heading">
                    <h3 class="panel-title"><%= pluralize(@artifact.errors.count, "error") %> prohibited this artifact from being saved:</h3>
                  </div>
                  <div class="panel-body">
                    <ul>
                    <% @artifact.errors.full_messages.each do |msg| %>
                      <li><%= msg %></li>
                    <% end %>
                    </ul>
                  </div>
                </div>
              <% end %>
            </div>
          <div class="w-form">
              <div class="w-row">
                  <div class="gap--med">
                    <%= f.label :name, :class => 'field-label' %>
                    <%= f.text_field :name, :class => 'input--text w-input' %>
                  </div>
                    <div class="fileinputs">
                      <%= f.label :upload, value: 'File to upload', :class => 'control-label' %>
                      <div class="controls">
                        <div class="w-form" data-ix="fade-effect">
                              
                                  <div class="file-upload">
                                    <div class="file-select">
                                      <div class="file-select-button" id="fileName">Choose File</div>
                                      <div class="file-select-name" id="noFile">No file chosen...</div> 
                                      <%= f.file_field :upload, id: 'chooseFile', :class => 'file' %>
                                    </div>
                                  </div>
                          </div>
                      </div>
                    </div>
              </div>
              <div class="col">
                <div class="form-error">
                  <div class="form-error--text">Error message.</div>
                </div>
              </div>
              
              <div class="gap--med">
              </div>
              <div class="gap--small">
                <div data-ix="button-hover" class="submit-container">
                  <%= f.hidden_field :project_id, :class => 'form-control' %>
                  <%= f.submit nil, value: "", :class => 'button button-submit w-button' %>
                  <div class="send-to-back">
                    <a href="#" id="submit-form" class="buttonconversion w-inline-block">
                      <div class="button--move">
                        <div class="button--text">Upload
                        </div>
                        <div class="button--ico-right">
                        </div>
                      </div>
                    </a>
                  </div>
                </div>
              </div>
          <% end %>
            <div class="w-form-done">
              <div id="form-feedback">Thank you! Your submission has been received!
              </div>
            </div>
            <div class="w-form-fail">
              <div>Oops! Something went wrong while submitting the form</div>
            </div>
          </div>
        </div>
        <div class="angle-container angle-container--form">
          <div class="angle--bottom">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
 
 
 <%= link_to t('.cancel', :default => t("helpers.links.cancel")),
            tenant_project_path(tenant_id: Tenant.current_tenant_id, 
                                id: @artifact.project_id), :class => 'button-2-danger w-button' %>
                                
                                
                                
                                
                                
<!--SCRIPT FOR CHOOSE FILE-->
<script>
 $('#chooseFile').bind('change', function () {
  var filename = $("#chooseFile").val();
  if (/^\s*$/.test(filename)) {
    $(".file-upload").removeClass('active');
    $("#noFile").text("No file chosen..."); 
  }
  else {
    $(".file-upload").addClass('active');
    $("#noFile").text(filename.replace("C:\\fakepath\\", "")); 
  }
});
</script>
